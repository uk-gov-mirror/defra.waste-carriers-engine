<%= render("waste_carriers_engine/shared/back", back_path: back_contact_email_forms_path(@contact_email_form.token)) %>

<div class="text">
  <%= form_for(@contact_email_form) do |f| %>
    <%= render("waste_carriers_engine/shared/errors", object: @contact_email_form) %>

    <h1 class="heading-large"><%= t(".heading") %></h1>

    <% if @transient_registration.upper_tier? %>
      <p><%= t(".paragraph_1") %></p>
      <p><%= t(".paragraph_2") %></p>
      <p><%= t(".paragraph_3") %></p>
      <p><%= t(".paragraph_4") %></p>
    <% end %>

    <div class="form-group <%= "form-group-error" if @contact_email_form.errors[:contact_email].any? %>">
      <fieldset id="contact_email">
        <% if @contact_email_form.errors[:contact_email].any? %>
          <span class="error-message"><%= @contact_email_form.errors[:contact_email].join(", ") %></span>
        <% end %>

        <%= f.label :contact_email, class: "form-label" do %>
          <%= t(".contact_email_label") %>
          <span class='form-hint'><%= t(".contact_email_hint") %></span>
        <% end %>

        <%= f.email_field :contact_email, value: @contact_email_form.contact_email, class: "form-control" %>
      </fieldset>
    </div>

    <div class="form-group <%= "form-group-error" if @contact_email_form.errors[:confirmed_email].any? %>">
      <fieldset id="confirmed_email">
        <% if @contact_email_form.errors[:confirmed_email].any? %>
          <span class="error-message"><%= @contact_email_form.errors[:confirmed_email].join(", ") %></span>
        <% end %>

        <%= f.label :confirmed_email, t(".confirmed_email_label"), class: "form-label" %>
        <%= f.email_field :confirmed_email, value: @contact_email_form.confirmed_email, class: "form-control" %>
      </fieldset>
    </div>

    <div class="form-group">
      <%= f.submit t(".next_button"), class: "button" %>
    </div>
  <% end %>
</div>
